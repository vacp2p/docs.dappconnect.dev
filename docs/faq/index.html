<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="FAQ #  Frequently Asked Questions for developers using js-waku:
1. Why should I build a frontend only webapp (no NodeJS backend)? #  Waku enables dApp to add communication, e.g. interaction between users, in a fully decentralized manner. A webapp that uses NodeJS as a backend implies that a party runs said NodeJS software in a centralized infrastructure.
Despite using Waku &amp; Ethereum, such webapp cannot become decentralized.
By building a frontend only webapp, that entirely runs in the browser, one can distribute the frontend code in many manners: host it, mirror it, have it on GitHub, deploy it on IPFS, etc.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="FAQ" />
<meta property="og:description" content="FAQ #  Frequently Asked Questions for developers using js-waku:
1. Why should I build a frontend only webapp (no NodeJS backend)? #  Waku enables dApp to add communication, e.g. interaction between users, in a fully decentralized manner. A webapp that uses NodeJS as a backend implies that a party runs said NodeJS software in a centralized infrastructure.
Despite using Waku &amp; Ethereum, such webapp cannot become decentralized.
By building a frontend only webapp, that entirely runs in the browser, one can distribute the frontend code in many manners: host it, mirror it, have it on GitHub, deploy it on IPFS, etc." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://js.waku.guide/docs/faq/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2022-02-16T00:00:00+10:00" />
<meta property="article:modified_time" content="2022-05-06T11:24:23+10:00" />

<title>FAQ | Waku Connect Docs</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.89a77f7e702a8626749b948bbfb01109823daf6c1246ca407d1378833494c402.css" integrity="sha256-iad/fnAqhiZ0m5SLv7ARCYI9r2wSRspAfRN4gzSUxAI=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.2be1dec4d66fbe768a17b3ec4a7c6fef4e620dfa2305fa0067e3da6f1bd3bb25.js" integrity="sha256-K&#43;HexNZvvnaKF7PsSnxv705iDfojBfoAZ&#43;PabxvTuyU=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
<script>
    (function (f, a, t, h, o, m) {
        a[h] = a[h] || function () {
            (a[h].q = a[h].q || []).push(arguments)
        };
        o = f.createElement('script');
        m = f.getElementsByTagName('script')[0];
        o.async = 1;
        o.src = t;
        o.id = 'fathom-script';
        m.parentNode.insertBefore(o, m)
    })(document, window, '//fathom.status.im/tracker.js', 'fathom');
    fathom('set', 'siteId', 'BBYCC');
    fathom('trackPageview');
</script>


</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Waku Connect Docs</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/introduction/" class="">Introduction</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/quick_start/" class="">Quick Start</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/faq/" class=" active">FAQ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/use_cases/" class="">Use Cases</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/presentations/" class="">Presentations &amp; Videos</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/" class="">Guides</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/01_choose_content_topic/" class="">How to Choose a Content Topic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/discovery_bootstrap/" class="">Discovery &amp; Bootstrap Nodes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/02_relay_receive_send_messages/" class="">Receive and Send Messages Using Waku Relay</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/03_store_retrieve_messages/" class="">Retrieve Messages Using Waku Store</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/04_encrypt_messages_version_1/" class="">Encrypt Messages Using Waku Message Version 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/sign_messages_web3_eip712/" class="">Sign Messages Using a Web3 Wallet (EIP-712)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/05_sign_messages_version_1/" class="">Sign Messages Using Waku Message Version 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/06_light_push_send_messages/" class="">Send Messages Using Waku Light Push</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/07_reactjs_relay/" class="">Receive and Send Messages Using Waku Relay With ReactJS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/08_reactjs_store/" class="">Retrieve Messages Using Waku Store With ReactJS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/angular_relay/" class="">Send and Receive Messages Using Waku Relay With Angular v13</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/nwaku/" class="">Nwaku Service Node</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/guides/debug/" class="">How to Debug your Waku dApp</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/examples/" class="">Examples</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/crypto_libraries/" class="">Cryptographic Libraries</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://js.waku.guide/docs/waku_protocols/" class="">Implemented Waku Protocols</a>
  

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="https://js.waku.org/" target="_blank" rel="noopener">
        JS-Waku API Doc
      </a>
  </li>
  
  <li>
    <a href="https://vac.dev/" target="_blank" rel="noopener">
        Vac
      </a>
  </li>
  
  <li>
    <a href="https://rfc.vac.dev/" target="_blank" rel="noopener">
        Vac RFCs
      </a>
  </li>
  
  <li>
    <a href="https://status.im/" target="_blank" rel="noopener">
        Status.im
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>FAQ</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#faq">FAQ</a>
      <ul>
        <li>
          <ul>
            <li><a href="#1-why-should-i-build-a-frontend-only-webapp-no-nodejs-backend">1. Why should I build a frontend only webapp (no NodeJS backend)?</a></li>
            <li><a href="#2-i-am-getting-a-module-parse-failed-unexpected-token-error">2. I am getting a <code>Module parse failed: Unexpected token</code> error</a></li>
            <li><a href="#3-store-nodes-only-keep-30-days-of-messages-by-default-what-if-i-need-to-keep-messages-permanently">3. Store nodes only keep 30 days of messages by default, what if I need to keep messages permanently?</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="faq">
  FAQ
  <a class="anchor" href="#faq">#</a>
</h1>
<p>Frequently Asked Questions for developers using js-waku:</p>
<h3 id="1-why-should-i-build-a-frontend-only-webapp-no-nodejs-backend">
  1. Why should I build a frontend only webapp (no NodeJS backend)?
  <a class="anchor" href="#1-why-should-i-build-a-frontend-only-webapp-no-nodejs-backend">#</a>
</h3>
<p>Waku enables dApp to add communication, e.g. interaction between users, in a fully decentralized manner.
A webapp that uses NodeJS as a backend implies that a party runs said NodeJS software in a centralized infrastructure.</p>
<p>Despite using Waku &amp; Ethereum, such webapp cannot become decentralized.</p>
<p>By building a frontend only webapp, that entirely runs in the browser, one can distribute the frontend code in many manners:
host it, mirror it, have it on GitHub, deploy it on IPFS, etc.
Enabling anyone to download this code and run in the browser,
making the webapp a truly decentralized dApp.</p>
<h3 id="2-i-am-getting-a-module-parse-failed-unexpected-token-error">
  2. I am getting a <code>Module parse failed: Unexpected token</code> error
  <a class="anchor" href="#2-i-am-getting-a-module-parse-failed-unexpected-token-error">#</a>
</h3>
<p>When using an older version of babel (used by <code>react-scripts</code>), the following error may appear when running the webapp:</p>
<pre tabindex="0"><code>./node_modules/multistream-select/src/ls.js 55:2
Module parse failed: Unexpected token (55:2)
File was processed with these loaders:
 * ./node_modules/babel-loader/lib/index.js
You may need an additional loader to handle the result of these loaders.
|   await pipe(protocolsReader, lp.decode(), async
|   /** @type {AsyncIterable&lt;BufferList&gt;} */
&gt;   source =&gt; {
|     for await (const protocol of source) {
|       // Remove the newline
</code></pre><pre tabindex="0"><code>./node_modules/js-waku/build/module/lib/waku_relay/index.js 228:16
Module parse failed: Unexpected token (228:16)
File was processed with these loaders:
 * ./node_modules/react-scripts/node_modules/babel-loader/lib/index.js
You may need an additional loader to handle the result of these loaders.
|       }
|
&gt;       meshPeers?.forEach(peer =&gt; {
|         toSend.add(peer);
|       });
</code></pre><p>As documented in issue <a href="https://github.com/status-im/js-waku/issues/165">#165</a>,
this error comes from an older babel version.
You need babel version <strong>7.13.2</strong> or above.</p>
<p>You can check your version using <code>npm ls</code>:</p>
<pre tabindex="0"><code>▶ npm ls @babel/preset-env
waku-pres@0.1.0
└─┬ react-scripts@4.0.3
  ├─┬ @svgr/webpack@5.5.0
  │ └── @babel/preset-env@7.12.17
  ├─┬ babel-preset-react-app@10.0.0
  │ └── @babel/preset-env@7.12.1
  └─┬ workbox-webpack-plugin@5.1.4
    └─┬ workbox-build@5.1.4
      └── @babel/preset-env@7.12.17 deduped
</code></pre><p>The best way to fix this is by using a more recent ReactJS stack.
This might not always possible, in this case force the installation of babel <strong>7.14</strong>:</p>
<pre tabindex="0"><code>npm i --save-dev @babel/preset-env@7.14
rm -rf node_modules package-lock.json
npm install
</code></pre><h3 id="3-store-nodes-only-keep-30-days-of-messages-by-default-what-if-i-need-to-keep-messages-permanently">
  3. Store nodes only keep 30 days of messages by default, what if I need to keep messages permanently?
  <a class="anchor" href="#3-store-nodes-only-keep-30-days-of-messages-by-default-what-if-i-need-to-keep-messages-permanently">#</a>
</h3>
<p>Waku store protocol at this point does not provide a scalable solution to serve a large size archival data
(as store nodes need to persist the entire history on their own local storage space),
due to this, this protocol is more suitable for serving recent historical messages.</p>
<p>Nevertheless, research on the scalability aspect has been done and documented in <a href="https://github.com/vacp2p/research/milestone/8">here</a>.</p>
<p>Note that it is possible for operators to run their own store node and set a higher value than the default ones:</p>
<p><code>nwaku</code>:</p>
<pre tabindex="0"><code>--store-capacity    Maximum number of messages to keep in store. [=50000].
</code></pre><p><code>go-waku</code>:</p>
<pre tabindex="0"><code>--store-days value      maximum number of days before a message is removed from the store (default: 30)
--store-capacity value  maximum number of messages to store (default: 50000)
</code></pre></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/waku-org/js.waku.guide/commit/9297d8c2151c42bb118e21d1cec3f25ae423b0df" title='Last modified by Franck R | May 6, 2022' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>May 6, 2022</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/waku-org/js.waku.guide/edit/develop/content/docs/faq.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#faq">FAQ</a>
      <ul>
        <li>
          <ul>
            <li><a href="#1-why-should-i-build-a-frontend-only-webapp-no-nodejs-backend">1. Why should I build a frontend only webapp (no NodeJS backend)?</a></li>
            <li><a href="#2-i-am-getting-a-module-parse-failed-unexpected-token-error">2. I am getting a <code>Module parse failed: Unexpected token</code> error</a></li>
            <li><a href="#3-store-nodes-only-keep-30-days-of-messages-by-default-what-if-i-need-to-keep-messages-permanently">3. Store nodes only keep 30 days of messages by default, what if I need to keep messages permanently?</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












